import{P as g,Q as r}from"./chunk-2UBRAF2E.js";import{e as f}from"./chunk-7VR4VJF6.js";import{a as A,c as S}from"./chunk-AHW6BBB4.js";import{a as v}from"./chunk-MYY6QNB4.js";import{a as h}from"./chunk-TFT336KV.js";import{B as p,F as u,G as _,I as b,z as L}from"./chunk-4MSTBY6L.js";import{e as s}from"./chunk-3GYLW4KZ.js";var o=s(L()),x=s(A());b();var e=s(_());function I({onActivated:l,closeModal:t,offer:a}){let{getValue:n}=u("Pre_Checkout_SponsoredProduct_Shadow_User_Modal_Ext"),{_getLexiScope:d}=p(),[i,y]=(0,o.useState)(!0),C=(0,x.useSpinDelay)(i),w=g(),m=d("Pre_Checkout_SponsoredProduct_Shadow_User_Modal_Ext");m={Pre_Checkout_SponsoredProduct_Shadow_User_Modal_Ext:m},(0,o.useEffect)(()=>{let c;return i&&(c=setTimeout(()=>{r({name:"su_modal_v2",type:"su_modal_v2_dismiss",subtype:"timeout"}),t()},w)),()=>{clearTimeout(c)}},[i,t]);let M=c=>{f("suModalLoaded"),r({name:"su_modal_v2",type:"su_iframe_loaded_ext_v2"}),y(!1)};return(0,e.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-black bg-opacity-50",children:(0,e.jsxs)("div",{className:"relative w-[450px] h-[500px] bg-white",children:[i&&(0,e.jsxs)("div",{className:"absolute inset-0 z-10 bg-white flex flex-col justify-center items-center p-4",children:[(0,e.jsx)(h,{showFullLogo:!0}),(0,e.jsx)("div",{className:"text-3xl mt-4 text-center font-light",children:n("loading_text")}),C&&(0,e.jsx)("div",{className:"mt-6",children:(0,e.jsx)(v,{className:"w-6 h-6"})})]}),(0,e.jsx)("div",{className:"w-full h-full",children:(0,e.jsx)(S,{closeModal:t,onLoadComplete:M,onSignUpComplete:l,iframeLandingPagePath:"/lp/signup/embed/search-alerts",requestPayload:{lexiScopeContent:m,offer:a}})})]})})}function P({onActivated:l,offer:t}){let[a,n]=(0,o.useState)(!0);(0,o.useEffect)(()=>{a&&r({name:"su_modal_attempt_v2"})},[a]);function d(){n(!1),f("suModalDismiss"),chrome.runtime.sendMessage({type:"embeddedSignUpCookieRevertSameSiteProperty"})}if(a)return(0,e.jsx)(I,{onActivated:l,closeModal:d,offer:t})}export{P as a};
