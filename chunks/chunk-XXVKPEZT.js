import{a as E}from"./chunk-MYY6QNB4.js";import{c as g,d as P,e as v}from"./chunk-JFLVCXPX.js";import{b as u,c as p}from"./chunk-FMNBUMJ5.js";import{a as k,e as d}from"./chunk-QLZPWOED.js";import{G as B,z as _}from"./chunk-4MSTBY6L.js";import{e as c}from"./chunk-3GYLW4KZ.js";var s=c(_());async function S(t){let a=u(t);return await f(a)}async function f(t){let a=await p(t),e={rootEl:"div",logLevel:null},i=await v();return{config:e,content:a,...i}}var r=c(B());function F({blocksEnvConfig:t,blocksParams:a,blocksSlug:e,templateData:i,onEvent:C,onUnload:b,throttleInBlocks:h=!1}){let[n,x]=(0,s.useState)(a);async function m(o){try{let l=await o;x(l)}catch(l){console.error("Failed to build blocks params:",l)}}let y=o=>m(S(o)),D=o=>m(f(o));return(0,s.useEffect)(()=>{a||(e?y(e):t&&D(t))},[]),n?(0,r.jsx)(d,{client:k.DESKTOP_WEB,config:n.config,content:n.content,host:n.host,user:n.user,data:i,onEvent:o=>{g(o,b),C?.(o)},onRequest:h?P:void 0}):(0,r.jsx)("div",{className:"flex flex-1 align-center justify-center",children:(0,r.jsx)(E,{})})}export{F as a};
