import{a as Et}from"./chunk-AHBXB3LJ.js";import{a as Zt,b as te,c as Fe,d as je,e as Le}from"./chunk-T3OFRK44.js";import{a as Oe,c as Be}from"./chunk-FMNBUMJ5.js";import{a as De}from"./chunk-CXSZXIOJ.js";import{a as Ae,e as Me}from"./chunk-QLZPWOED.js";import{f as ft}from"./chunk-OCTA2RVM.js";import{a as $e}from"./chunk-YQ5KARKK.js";import{b as A}from"./chunk-DKGSS5NA.js";import{a as Ni}from"./chunk-IJEQYNEP.js";import{a as rt}from"./chunk-TFT336KV.js";import{a as Ti,d as ee,i as ie,m as Ie,q as Ve}from"./chunk-4MWWZMVF.js";import{h as G,m as Ne,n as C,o as O,v as Ee}from"./chunk-2WJMAHXV.js";import{a as Ce,d as Si}from"./chunk-VM2OHO33.js";import{a as Te,b as Ri}from"./chunk-6I5TZL5E.js";import{a as Re,d as Ci}from"./chunk-W7K6NY26.js";import{G as P,z as Y}from"./chunk-4MSTBY6L.js";import{b as Pi,e as Nt}from"./chunk-C4QCPH6A.js";import{d as U,f as Jt}from"./chunk-ZRHTGYWI.js";import{c as xi,e as y}from"./chunk-3GYLW4KZ.js";var ei=xi((yt,_e)=>{(function(o,e){typeof yt=="object"&&typeof _e=="object"?_e.exports=e(Y()):typeof define=="function"&&define.amd?define(["react"],e):typeof yt=="object"?yt.ReactConfetti=e(Y()):o.ReactConfetti=e(o.React)})(typeof self<"u"?self:yt,function(o){return function(e){var r={};function n(a){if(r[a])return r[a].exports;var t=r[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=e,n.c=r,n.d=function(a,t,i){n.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:i})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,t){if(1&t&&(a=n(a)),8&t||4&t&&typeof a=="object"&&a&&a.__esModule)return a;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:a}),2&t&&typeof a!="string")for(var s in a)n.d(i,s,function(l){return a[l]}.bind(null,s));return i},n.n=function(a){var t=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(t,"a",t),t},n.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},n.p="",n(n.s=2)}([function(e,r){e.exports=o},function(e,r,n){"use strict";var a={linear:function(t,i,s,l){return(s-i)*t/l+i},easeInQuad:function(t,i,s,l){return(s-i)*(t/=l)*t+i},easeOutQuad:function(t,i,s,l){return-(s-i)*(t/=l)*(t-2)+i},easeInOutQuad:function(t,i,s,l){var c=s-i;return(t/=l/2)<1?c/2*t*t+i:-c/2*(--t*(t-2)-1)+i},easeInCubic:function(t,i,s,l){return(s-i)*(t/=l)*t*t+i},easeOutCubic:function(t,i,s,l){return(s-i)*((t=t/l-1)*t*t+1)+i},easeInOutCubic:function(t,i,s,l){var c=s-i;return(t/=l/2)<1?c/2*t*t*t+i:c/2*((t-=2)*t*t+2)+i},easeInQuart:function(t,i,s,l){return(s-i)*(t/=l)*t*t*t+i},easeOutQuart:function(t,i,s,l){return-(s-i)*((t=t/l-1)*t*t*t-1)+i},easeInOutQuart:function(t,i,s,l){var c=s-i;return(t/=l/2)<1?c/2*t*t*t*t+i:-c/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(t,i,s,l){return(s-i)*(t/=l)*t*t*t*t+i},easeOutQuint:function(t,i,s,l){return(s-i)*((t=t/l-1)*t*t*t*t+1)+i},easeInOutQuint:function(t,i,s,l){var c=s-i;return(t/=l/2)<1?c/2*t*t*t*t*t+i:c/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(t,i,s,l){var c=s-i;return-c*Math.cos(t/l*(Math.PI/2))+c+i},easeOutSine:function(t,i,s,l){return(s-i)*Math.sin(t/l*(Math.PI/2))+i},easeInOutSine:function(t,i,s,l){return-(s-i)/2*(Math.cos(Math.PI*t/l)-1)+i},easeInExpo:function(t,i,s,l){return t==0?i:(s-i)*Math.pow(2,10*(t/l-1))+i},easeOutExpo:function(t,i,s,l){var c=s-i;return t==l?i+c:c*(1-Math.pow(2,-10*t/l))+i},easeInOutExpo:function(t,i,s,l){var c=s-i;return t===0?i:t===l?i+c:(t/=l/2)<1?c/2*Math.pow(2,10*(t-1))+i:c/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(t,i,s,l){return-(s-i)*(Math.sqrt(1-(t/=l)*t)-1)+i},easeOutCirc:function(t,i,s,l){return(s-i)*Math.sqrt(1-(t=t/l-1)*t)+i},easeInOutCirc:function(t,i,s,l){var c=s-i;return(t/=l/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+i:c/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(t,i,s,l){var c,f,b,m=s-i;return b=1.70158,t===0?i:(t/=l)==1?i+m:((f=0)||(f=.3*l),(c=m)<Math.abs(m)?(c=m,b=f/4):b=f/(2*Math.PI)*Math.asin(m/c),-c*Math.pow(2,10*(t-=1))*Math.sin((t*l-b)*(2*Math.PI)/f)+i)},easeOutElastic:function(t,i,s,l){var c,f,b,m=s-i;return b=1.70158,t===0?i:(t/=l)==1?i+m:((f=0)||(f=.3*l),(c=m)<Math.abs(m)?(c=m,b=f/4):b=f/(2*Math.PI)*Math.asin(m/c),c*Math.pow(2,-10*t)*Math.sin((t*l-b)*(2*Math.PI)/f)+m+i)},easeInOutElastic:function(t,i,s,l){var c,f,b,m=s-i;return b=1.70158,t===0?i:(t/=l/2)==2?i+m:((f=0)||(f=l*.44999999999999996),(c=m)<Math.abs(m)?(c=m,b=f/4):b=f/(2*Math.PI)*Math.asin(m/c),t<1?c*Math.pow(2,10*(t-=1))*Math.sin((t*l-b)*(2*Math.PI)/f)*-.5+i:c*Math.pow(2,-10*(t-=1))*Math.sin((t*l-b)*(2*Math.PI)/f)*.5+m+i)},easeInBack:function(t,i,s,l,c){return c===void 0&&(c=1.70158),(s-i)*(t/=l)*t*((c+1)*t-c)+i},easeOutBack:function(t,i,s,l,c){return c===void 0&&(c=1.70158),(s-i)*((t=t/l-1)*t*((c+1)*t+c)+1)+i},easeInOutBack:function(t,i,s,l,c){var f=s-i;return c===void 0&&(c=1.70158),(t/=l/2)<1?f/2*(t*t*((1+(c*=1.525))*t-c))+i:f/2*((t-=2)*t*((1+(c*=1.525))*t+c)+2)+i},easeInBounce:function(t,i,s,l){var c=s-i;return c-a.easeOutBounce(l-t,0,c,l)+i},easeOutBounce:function(t,i,s,l){var c=s-i;return(t/=l)<.36363636363636365?c*(7.5625*t*t)+i:t<.7272727272727273?c*(7.5625*(t-=.5454545454545454)*t+.75)+i:t<.9090909090909091?c*(7.5625*(t-=.8181818181818182)*t+.9375)+i:c*(7.5625*(t-=.9545454545454546)*t+.984375)+i},easeInOutBounce:function(t,i,s,l){var c=s-i;return t<l/2?.5*a.easeInBounce(2*t,0,c,l)+i:.5*a.easeOutBounce(2*t-l,0,c,l)+.5*c+i}};e.exports=a},function(e,r,n){e.exports=n(3)},function(e,r,n){"use strict";n.r(r),n.d(r,"ReactConfetti",function(){return ve});var a,t,i=n(0),s=n.n(i),l=n(1),c=n.n(l);function f(p,u){return p+Math.random()*(u-p)}function b(p,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function m(p,u,d){return u in p?Object.defineProperty(p,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[u]=d,p}(function(p){p[p.Circle=0]="Circle",p[p.Square=1]="Square",p[p.Strip=2]="Strip"})(a||(a={})),function(p){p[p.Positive=1]="Positive",p[p.Negative=-1]="Negative"}(t||(t={}));var M=function(){function p(x,k,g,T){(function(Qt,ut){if(!(Qt instanceof ut))throw new TypeError("Cannot call a class as a function")})(this,p),m(this,"context",void 0),m(this,"radius",void 0),m(this,"x",void 0),m(this,"y",void 0),m(this,"w",void 0),m(this,"h",void 0),m(this,"vx",void 0),m(this,"vy",void 0),m(this,"shape",void 0),m(this,"angle",void 0),m(this,"angularSpin",void 0),m(this,"color",void 0),m(this,"rotateY",void 0),m(this,"rotationDirection",void 0),m(this,"getOptions",void 0),this.getOptions=k;var N,R,D=this.getOptions(),H=D.colors,B=D.initialVelocityX,at=D.initialVelocityY;this.context=x,this.x=g,this.y=T,this.w=f(5,20),this.h=f(5,20),this.radius=f(5,10),this.vx=typeof B=="number"?f(-B,B):f(B.min,B.max),this.vy=typeof at=="number"?f(-at,0):f(at.min,at.max),this.shape=(N=0,R=2,Math.floor(N+Math.random()*(R-N+1))),this.angle=f(0,360)*Math.PI/180,this.angularSpin=f(-.2,.2),this.color=H[Math.floor(Math.random()*H.length)],this.rotateY=f(0,1),this.rotationDirection=f(0,1)?t.Positive:t.Negative}var u,d,_;return u=p,(d=[{key:"update",value:function(){var x=this.getOptions(),k=x.gravity,g=x.wind,T=x.friction,N=x.opacity,R=x.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=k,this.vx+=g,this.vx*=T,this.vy*=T,this.rotateY>=1&&this.rotationDirection===t.Positive?this.rotationDirection=t.Negative:this.rotateY<=-1&&this.rotationDirection===t.Negative&&(this.rotationDirection=t.Positive);var D=.1*this.rotationDirection;if(this.rotateY+=D,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=N,this.context.lineCap="round",this.context.lineWidth=2,R&&typeof R=="function")R.call(this,this.context);else switch(this.shape){case a.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case a.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case a.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&b(u.prototype,d),_&&b(u,_),p}();function E(p,u,d){return u in p?Object.defineProperty(p,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[u]=d,p}var j=function p(u,d){var _=this;(function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")})(this,p),E(this,"canvas",void 0),E(this,"context",void 0),E(this,"getOptions",void 0),E(this,"x",0),E(this,"y",0),E(this,"w",0),E(this,"h",0),E(this,"lastNumberOfPieces",0),E(this,"tweenInitTime",Date.now()),E(this,"particles",[]),E(this,"particlesGenerated",0),E(this,"removeParticleAt",function(k){_.particles.splice(k,1)}),E(this,"getParticle",function(){var k=f(_.x,_.w+_.x),g=f(_.y,_.h+_.y);return new M(_.context,_.getOptions,k,g)}),E(this,"animate",function(){var k=_.canvas,g=_.context,T=_.particlesGenerated,N=_.lastNumberOfPieces,R=_.getOptions(),D=R.run,H=R.recycle,B=R.numberOfPieces,at=R.debug,Qt=R.tweenFunction,ut=R.tweenDuration;if(!D)return!1;var Xt=_.particles.length,_t=H?Xt:T,Kt=Date.now();if(_t<B){N!==B&&(_.tweenInitTime=Kt,_.lastNumberOfPieces=B);for(var ke=_.tweenInitTime,ki=Qt(Kt-ke>ut?ut:Math.max(0,Kt-ke),_t,B,ut),xe=Math.round(ki-_t),Pe=0;Pe<xe;Pe++)_.particles.push(_.getParticle());_.particlesGenerated+=xe}return at&&(g.font="12px sans-serif",g.fillStyle="#333",g.textAlign="right",g.fillText("Particles: ".concat(Xt),k.width-10,k.height-20)),_.particles.forEach(function(dt,Se){dt.update(),(dt.y>k.height||dt.y<-100||dt.x>k.width+100||dt.x<-100)&&(H&&_t<=B?_.particles[Se]=_.getParticle():_.removeParticleAt(Se))}),Xt>0||_t<B}),this.canvas=u;var x=this.canvas.getContext("2d");if(!x)throw new Error("Could not get canvas context");this.context=x,this.getOptions=d};function $(p,u){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);u&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),d.push.apply(d,_)}return d}function W(p){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?$(Object(d),!0).forEach(function(_){F(p,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):$(Object(d)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(d,_))})}return p}function q(p,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function F(p,u,d){return u in p?Object.defineProperty(p,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[u]=d,p}var z={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:c.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},pt=function(){function p(x,k){var g=this;(function(N,R){if(!(N instanceof R))throw new TypeError("Cannot call a class as a function")})(this,p),F(this,"canvas",void 0),F(this,"context",void 0),F(this,"_options",void 0),F(this,"generator",void 0),F(this,"rafId",void 0),F(this,"setOptionsWithDefaults",function(N){var R={confettiSource:{x:0,y:0,w:g.canvas.width,h:0}};g._options=W(W(W({},R),z),N),Object.assign(g,N.confettiSource)}),F(this,"update",function(){var N=g.options,R=N.run,D=N.onConfettiComplete,H=g.canvas,B=g.context;R&&(B.fillStyle="white",B.clearRect(0,0,H.width,H.height)),g.generator.animate()?g.rafId=requestAnimationFrame(g.update):(D&&typeof D=="function"&&g.generator.particlesGenerated>0&&D.call(g,g),g._options.run=!1)}),F(this,"reset",function(){g.generator&&g.generator.particlesGenerated>0&&(g.generator.particlesGenerated=0,g.generator.particles=[],g.generator.lastNumberOfPieces=0)}),F(this,"stop",function(){g.options={run:!1},g.rafId&&(cancelAnimationFrame(g.rafId),g.rafId=void 0)}),this.canvas=x;var T=this.canvas.getContext("2d");if(!T)throw new Error("Could not get canvas context");this.context=T,this.generator=new j(this.canvas,function(){return g.options}),this.options=k,this.update()}var u,d,_;return u=p,(d=[{key:"options",get:function(){return this._options},set:function(x){var k=this._options&&this._options.run,g=this._options&&this._options.recycle;this.setOptionsWithDefaults(x),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof x.recycle=="boolean"&&x.recycle&&g===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof x.run=="boolean"&&x.run&&k===!1&&this.update()}}])&&q(u.prototype,d),_&&q(u,_),p}();function Wt(p){return function(u){if(Array.isArray(u))return ot(u)}(p)||function(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}(p)||K(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function X(p){return(X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(p)}function it(){return(it=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(p[_]=d[_])}return p}).apply(this,arguments)}function St(p,u){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);u&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),d.push.apply(d,_)}return d}function Ct(p){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?St(Object(d),!0).forEach(function(_){ct(p,_,d[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(d)):St(Object(d)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(d,_))})}return p}function Rt(p,u){return function(d){if(Array.isArray(d))return d}(p)||function(d,_){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(d)))){var x=[],k=!0,g=!1,T=void 0;try{for(var N,R=d[Symbol.iterator]();!(k=(N=R.next()).done)&&(x.push(N.value),!_||x.length!==_);k=!0);}catch(D){g=!0,T=D}finally{try{k||R.return==null||R.return()}finally{if(g)throw T}}return x}}(p,u)||K(p,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K(p,u){if(p){if(typeof p=="string")return ot(p,u);var d=Object.prototype.toString.call(p).slice(8,-1);return d==="Object"&&p.constructor&&(d=p.constructor.name),d==="Map"||d==="Set"?Array.from(p):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?ot(p,u):void 0}}function ot(p,u){(u==null||u>p.length)&&(u=p.length);for(var d=0,_=new Array(u);d<u;d++)_[d]=p[d];return _}function Tt(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}function J(p,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function nt(p,u){return(nt=Object.setPrototypeOf||function(d,_){return d.__proto__=_,d})(p,u)}function Yt(p){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,_=zt(p);if(u){var x=zt(this).constructor;d=Reflect.construct(_,arguments,x)}else d=_.apply(this,arguments);return qt(this,d)}}function qt(p,u){return!u||X(u)!=="object"&&typeof u!="function"?Ut(p):u}function Ut(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function zt(p){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(p)}function ct(p,u,d){return u in p?Object.defineProperty(p,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[u]=d,p}var vi=s.a.createRef(),Ht=function(p){(function(g,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(T&&T.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),T&&nt(g,T)})(k,p);var u,d,_,x=Yt(k);function k(g){var T;Tt(this,k);for(var N=arguments.length,R=new Array(N>1?N-1:0),D=1;D<N;D++)R[D-1]=arguments[D];return ct(Ut(T=x.call.apply(x,[this,g].concat(R))),"canvas",s.a.createRef()),ct(Ut(T),"confetti",void 0),T.canvas=g.canvasRef||vi,T}return u=k,(d=[{key:"componentDidMount",value:function(){if(this.canvas.current){var g=Gt(this.props)[0];this.confetti=new pt(this.canvas.current,g)}}},{key:"componentDidUpdate",value:function(){var g=Gt(this.props)[0];this.confetti&&(this.confetti.options=g)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var g=Rt(Gt(this.props),2),T=g[0],N=g[1],R=Ct({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},N.style);return s.a.createElement("canvas",it({width:T.width,height:T.height,ref:this.canvas},N,{style:R}))}}])&&J(u.prototype,d),_&&J(u,_),k}(i.Component);function Gt(p){var u={},d={},_=[].concat(Wt(Object.keys(z)),["confettiSource","drawShape","onConfettiComplete"]),x=["canvasRef"];for(var k in p){var g=p[k];_.includes(k)?u[k]=g:x.includes(k)?x[k]=g:d[k]=g}return[u,d,{}]}ct(Ht,"defaultProps",Ct({},z)),ct(Ht,"displayName","ReactConfetti");var ve=s.a.forwardRef(function(p,u){return s.a.createElement(Ht,it({canvasRef:u},p))});r.default=ve}]).default})});Jt();function oe(o=0,e=0,r="disable_price_run"){return C(r)&&e>0&&o<=e?(U(`***price run is disabled for items <= $${Math.round(e)/100}***`),!0):!1}var ne=y(Nt());Jt();var mt={transparentPricingVersion2VariantB:"transparentPricingVersion2VariantB",transparentPricingVersion3Variant1:"transparentPricingVersion3Variant1",transparentPricingVersion3Variant2:"transparentPricingVersion3Variant2"},Z={...mt,standardPricing:"standardPricing"};var ht={never:"never",always:"always",baseOnThreshold:"baseOnThreshold"},We="retailPCOffers",L={annotationInjected:"annotation_injected",bestOfferWhenUnavailable:"best_offer_when_unavailable",bestSavings:"best_savings",firstResultWithSavings:"first_result_with_savings",noBetterPriceFound:"no_better_price_found",searching:"searching"};function co(){let o;return C("retail_pc_savings_no_auto_notif")?o=ht.never:C("retail_pc_savings_always_auto_notif")?o=ht.always:o=ht.baseOnThreshold,o}function Ye(o){let{autoShowSavingsNotificationStatus:e,complete:r,savings:n,showWirelessPC:a=!1}=o,t=!1;return e===ht.never&&r&&n?t=!1:(e===ht.always&&r&&n||r&&n&&n>=1e3||r&&!n&&a)&&(t=!0),t}function gt(o){let e=ne.default.get(o,"savingsWithRewards")||ne.default.get(o,"savings")||0;return Math.max(0,e)}function Ei(o){let e=qe(o)?.()?.host;return!!e&&document.documentElement.contains(e)}function qe(o){return o&&G.get(["shadowRootsByAppName",o])}function ae({events:o,runId:e,pageType:r,appName:n,isEstimateRun:a=!1}){let t=qe(n)?.appInjectedAt;return t?It({events:o,runId:e,eventData:{eventName:L.annotationInjected,eventTimestamp:new Date(t).toISOString(),pageType:r},appName:n,isEstimateRun:a}):o}function It({events:o,runId:e,eventData:r={},appName:n,isEstimateRun:a=!1}){if(C("disable_pc_price_run_events"))return U("PC price run events is disabled."),o;if(!o)return;let{eventName:t,eventTimestamp:i,pageType:s,isVisibleToUser:l=!0}=r,c=`${t}${a?"-estimate":""}`;if(t&&i&&!o.has(c)){let f={eventName:t,eventTimestamp:i,pageType:s,sent:!1,isEstimateEvent:a};t!==L.annotationInjected&&(f.isVisibleToUser=Ei(n)&&l),o.set(c,f)}if(e)for(let f of o.values())f.sent||f.isEstimateEvent&&!a||!f.isEstimateEvent&&a||(Ii({...f,quoteId:e}),f.sent=!0);return o}function Ii(o){let{quoteId:e,pageType:r,eventName:n,eventTimestamp:a,isVisibleToUser:t}=o;try{O("track","priceRunEvents",{quoteId:e,pageType:r,priceRunStatus:n,priceRunStatusTimestamp:a,isVisibleToUser:t})}catch(i){U("*** failure to send price run events ***",i)}}function Ue(o,e,r,n,a){if(C("disable_pc_savings_alert")){U("PC savings alert is disabled.");return}if(o&&!e.has(o)&&r&&n){e.add(o);try{O("track","priceRunSavings",{quoteId:o,pageType:a})}catch(i){U("*** failure to send savings alert ***",i)}}return e}function re(){let o;return C("retail_pc_transparent_pricing_variant_b")?o=Z.transparentPricingVersion2VariantB:C("retail_pc_transparent_pricing_v3_variant_1")?o=Z.transparentPricingVersion3Variant1:C("retail_pc_transparent_pricing_v3_variant_2")?o=Z.transparentPricingVersion3Variant2:o=Z.standardPricing,o}var we=y(Nt());var bi=y(Y()),yi=y(Pi()),h=y(Nt());Ci();Ri();var Dt=y(Y()),ze=y(Ti());var st=o=>{let{containerNamespace:e,children:r}=o,n=G.get(["additionalContentNamespace",e])();if(!n)return null;let a=".__wikibuy",t=(0,Dt.useRef)();return t.current||(t.current=document.createElement("div"),n.querySelector(a).appendChild(t.current)),(0,Dt.useEffect)(()=>()=>n.querySelector(a).removeChild(t.current),[]),ze.default.createPortal(r,t.current)};var Qe=y(Y()),Xe=y(Nt());function se(o){return Ee("showFollow",o)}Jt();function tt(){return C("retail_pc_blocks")}async function He(o){if(tt())try{let e=Oe(o);if(e)return await Be(e)}catch(e){U("getBlocksContent error",e)}}var Ge=y(Y());var et=y(P()),le=class extends Ge.Component{render(){return(0,et.jsx)("div",{className:`annotation-tooltip-component ${this.props.classes||""}`,onClick:e=>{e.stopPropagation()},children:(0,et.jsxs)("div",{className:"annotation-tooltip-container",children:[(0,et.jsxs)("div",{className:"header",children:[(0,et.jsx)(rt,{}),(0,et.jsx)(De,{onClick:this.props.onCloseTooltip.bind(this,"x")})]}),this.props.children]})})}},bt=le;var Bt=y(P());function Ot(o){return o.content?(0,Bt.jsxs)("div",{className:o.classes,onClick:e=>e.stopPropagation(),children:[(0,Bt.jsx)(Me,{client:Ae.DESKTOP_WEB,config:{rootEl:"div",logLevel:null},content:o.content,data:o.data,onEvent:e=>{let r=e?.eventName;if(r==="retail_pc_dismiss_popover")o.onCloseTooltip?.();else if(r==="retail_pc_visit_merchant"){let a=o.data?.results?.find(t=>t.match.id===e?.data?.propsData?.resultid);a&&o.visitMerchant?.(a.match)}else r==="retail_pc_view_c1_pdp"&&o.viewProductPage?.()}}),o.children]}):null}var v=y(P()),Di={"amazon.com":"Amazon","homedepot.com":"Home Depot","bestbuy.com":"Best Buy","target.com":"Target"};function Oi(o){if(!o)return{};let e=o.product?.vendor,r=o.product?.vendorName||Di[e]||e;o.meta?.paymentsSupport&&(r="Capital One Shopping"),r=r==="Amazon"&&!o.origin?"Amz. Marketplace":r;let n={},a=o.pricing?.coupons?.length?"use code":"",t=o.pricing?.reward||{};a&&!o.meta?.paymentsSupport?(n.isCoupon=!0,n.value=a):t.amount&&t.type==="percentage"?(n.isReward=!0,n.type=t.type,n.value=t.amount/100):t.amount&&(n.isReward=!0,n.value=A(t.amount,{currency:t.amountCurrency||t.currency}));let i=o.meta?.verificationClassifierOutput?.verified,s=o.details?.estimatedDeliveryMinDays,l=o.details?.estimatedDeliveryMaxDays,c=s===l?l?`${l} days`:"":`${s} - ${l} days`;return{match:o,seller:r,delivery:c,specialOffer:n,total:A(o.pricing?.total),afterRewardTotal:A(o.pricing?.afterRewardTotal||o.pricing?.total),isSellerVerified:i}}var lt=class extends Qe.Component{componentDidMount(){O("page",`offersListAnnotationTooltip${this.props.deweyPC?"_runv4":""}`,{view:this.props.view,type:"notificationHover",searchIndex:this.props.searchIndex})}render(){let e=Xe.default.get(this.props,"showViewAllOffers",!0)&&this.props.wbid,r=this.props?.filteredResults.map(Oi),n=r.find(s=>s.specialOffer.isCoupon||s.specialOffer.isReward),a=C("notif_rounded_border")?"rounded-btn":"",t=!this.props.fullRunComplete,i=C("retail_pc_transparent_pricing_offers_list");return tt()?(0,v.jsx)(Ot,{classes:"retail-pc-savings-list-blocks",content:this.props.blocksContent,data:{results:r,findingMoreOffers:t,showViewAllOffers:e},onCloseTooltip:this.props.hideSavingsDetails,visitMerchant:this.visitMerchant.bind(this),viewProductPage:()=>this.props.viewProductPage("view")}):(0,v.jsx)(bt,{classes:`result-table-tooltip ${(this.props.originVendor||"").replace(".com","")} ${i?"transparent-pricing":""}`,onCloseTooltip:()=>this.props.hideSavingsDetails(),children:(0,v.jsxs)("div",{className:"result-list",children:[(0,v.jsx)("div",{className:"list-header",children:i?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h3",{className:"seller",children:"Seller"}),n?(0,v.jsx)("h3",{className:"special-offer",children:"Special Offer"}):null,(0,v.jsx)("h3",{className:"total",children:"Total"}),(0,v.jsx)("h3",{className:"after-reward-total",children:"After Rewards"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h3",{className:"seller",children:"Seller"}),(0,v.jsx)("h3",{className:"delivery",children:"Delivery"}),n?(0,v.jsx)("h3",{className:"special-offer",children:"Special Offer"}):null,(0,v.jsx)("h3",{className:"after-reward-total",children:"Est. Total"})]})}),r.map(s=>{let{match:l,seller:c,delivery:f,specialOffer:b,total:m,afterRewardTotal:M,isSellerVerified:E}=s;return(0,v.jsxs)("div",{className:"result-list-item",onClick:j=>{j.stopPropagation(),this.visitMerchant(l)},children:[(0,v.jsx)("h3",{className:`seller ${E?"verified":""}`,children:c}),i?null:(0,v.jsx)("h3",{className:"delivery",children:(0,v.jsx)("span",{children:f})}),n?(0,v.jsx)("h3",{className:"special-offer",children:b.isCoupon?(0,v.jsx)("span",{className:"icon-coupon coupon",children:b.value}):b.isReward&&b.type==="percentage"?(0,v.jsxs)("span",{className:"palmetto",children:[`+${b.value}% `," ",(0,v.jsx)("span",{className:"reward-break",children:"back"})]}):b.isReward?(0,v.jsxs)("span",{className:"palmetto",children:[`+${b.value}`," ",(0,v.jsx)("span",{className:"reward-break",children:"in Rewards"})]}):null}):null,i?(0,v.jsx)("h3",{className:"total",children:m}):null,(0,v.jsx)("h3",{className:`after-reward-total primary-btn-large ${a}`,children:M})]},l.id)}),t?(0,v.jsx)("h5",{className:"finding-more bold",children:"Finding more offers"}):null,e?(0,v.jsxs)("span",{children:[(0,v.jsx)("div",{className:"rule"}),(0,v.jsx)("h5",{style:{textAlign:"center",marginTop:"10px"},children:(0,v.jsx)("span",{className:"primary-link",onClick:s=>{s.preventDefault(),this.props.viewProductPage("view")},children:"View all offers"})})]}):null]})})}visitMerchant(e){se({details:e,run:this.props.run,productData:e.product}),this.props.visitMerchant(e,!0)}};var Ke=y(Y());var V=y(P()),Je=({data:o,onCloseTooltip:e})=>{let{ctaText:r,deviceType:n,image:a,link:t,reward:i,subheaderText:s}=o,l=()=>{O("track","wirelessDevicePcExperience",{view:name,label:r,deviceType:n}),window.open(t,"_blank")},c=()=>{e&&(O("page","wirelessTooltip",{type:"notificationDismiss",label:n}),e())};return(0,Ke.useEffect)(()=>{O("page","wirelessTooltip",{type:"notificationHover",label:n})},[]),(0,V.jsx)(bt,{onCloseTooltip:c,classes:"wireless-pc-annotation",children:(0,V.jsxs)("div",{className:"wireless-pc-annotation-main align-center",children:[(0,V.jsxs)("p",{children:[(0,V.jsxs)("div",{className:"wireless-header",children:[(0,V.jsx)("span",{className:"favorable",children:i})," in Rewards"]}),s]}),(0,V.jsx)("p",{children:(0,V.jsx)("img",{src:a,alt:"Wireless Price Comparison"})}),(0,V.jsx)("span",{className:"text"}),(0,V.jsx)("button",{className:"primary-btn-large full-button",onClick:l,children:r})]})})};var Ze=o=>Et("getCart",o);var pe=o=>Et("getEstimate",o);function At(o){var e=document.createElement("meta");e.name="referrer",e.content="no-referrer",e.id="no-referrer",document.getElementsByTagName("head")[0].appendChild(e),window.open(o),document.getElementById("no-referrer").remove()}var xt=y(Y()),Pt=y(Ni());var ti=y(Y());Si();function ce(){let o=document.querySelector("#honeyContainer"),e=document.querySelector("#piggyWrapper");if(o){let r=o.shadowRoot.querySelector("#honey-shadow").style;if(o.shadowRoot.querySelector("#cornerContent")&&(r.opacity==="1"||r.visibility==="visible"))return{updated:!0,offset:"455px"}}return e&&(e.offsetWidth>0||e.offsetHeight>0)?{updated:!0,offset:"340px"}:document.querySelector(".ebates-notification")||document.querySelector(".ebates-hover.ebates-hover-top")?{updated:!0,offset:"420px"}:{updated:!1,offset:"0"}}function ue(o,e=200,r={}){let{maxBackoff:n=7e3,maxTries:a=25}=r,t=async()=>{let i=1;for(;e<n;){let s=ce();s.updated&&o(s.offset),await Ce(e),i>a&&(e*=1.5),i+=1}};(0,ti.useEffect)(()=>{t()},[])}var _i=y(Y()),Vt=y(ei());var ii=y(P()),Bi=({onClick:o})=>(0,ii.jsx)("div",{className:"close icon-x",onClick:o}),Mt=Bi;var ni=y(P()),Ai=({savings:o,children:e})=>(0,ni.jsx)("p",{className:`text-2xl font-bold leading-9 ${o?"text-favorable":""}`,children:e}),oi=Ai;var Ft=y(P()),Mi=({children:o})=>(0,Ft.jsx)("div",{style:{textDecoration:"line-through",textDecorationColor:"red",marginTop:"-5px"},children:o}),Fi=({children:o})=>(0,Ft.jsx)(Mi,{children:(0,Ft.jsx)("p",{className:"leading-6 font-bold text-neutralsecondary",children:o})}),ai=Fi;var wt=y(P()),ji=({deal:o})=>(0,wt.jsxs)("div",{id:"dealPricing",style:{flexBasis:"50px"},children:[(0,wt.jsx)(oi,{savings:o.rawSavings>0,children:o.dealPrice}),o.rawSavings>0?(0,wt.jsx)(ai,{children:o.listPrice}):null]}),ri=ji;var si=y(P()),Li=({flexBasis:o,children:e,className:r=""})=>(0,si.jsx)("p",{className:`fine-print-text text-[8px] leading-[12px] font-bold ${r}`,style:{color:"rgb(103, 103, 103)",flexBasis:`${o}`},children:e}),vt=Li;var li=y(P()),Vi=({children:o})=>(0,li.jsx)("div",{className:"header",children:o}),jt=Vi;var de=y(P()),$i=({src:o,width:e,height:r,margin:n,alt:a})=>(0,de.jsx)("div",{style:{width:e,height:r,margin:n},children:(0,de.jsx)("img",{src:o,style:{width:"auto",height:"auto",fontSize:"8px",maxWidth:e,maxHeight:r},alt:a})}),fe=$i;var ci=y(P()),Wi=({rawSavings:o,formattedSavings:e,onClick:r})=>{let n=o&&o>0?`Save ${e}`:"View Offer",a=C("notif_rounded_border")?"rounded-btn":"";return(0,ci.jsx)(ft,{onClick:r,className:`w-full text-base h-[40px] ${a} green-btn`,children:n})},pi=Wi;function Lt(o,e=""){let r=(o||e.replace(".com","")).replace(/[\u2019\u0027]/g,"'");return r.endsWith("'s")?r:r.endsWith("s")?`${r}'`:r?`${r}'s`:""}var S=y(P()),Yi=(o,e)=>{let r="Amazing Deal",n="Great Deal",a="Good Deal",t=[{badgeText:r,badgeColor:"favorable"},{badgeText:n,badgeColor:"interaction"},{badgeText:a,badgeColor:"secondary"}],i=A(e),s=(K,ot,Tt)=>{let J=[];K>0&&J.push(`Includes ${A(K)} Shipping + Handling`),ot>0&&J.push(`after ${A(ot)} in Capital One Shopping Rewards`),Tt>0&&J.push(`Arrives in ${Tt} days`);let nt="";return J.map((Yt,qt)=>{qt!=0&&(nt+=", "),nt+=Yt}),nt},{id:l,product:c,pricing:f,shippingDays:b,savingsPercent:m=0,savingsWithRewardsPercent:M=0}=o,{image:E,vendor:j,vendorName:$,title:W,condition:q}=c,{afterRewardTotal:F,total:z,shipping:pt,loyaltyAmount:Wt}=f,X=Math.max(M,m),it=X>=.2?r:X>.1?n:X>0&&X<=.1?a:null,{badgeText:St=null,badgeColor:Ct=null}=it&&t.find(K=>K.badgeText===it)||{},Rt=gt(o);return{id:l,vendorName:$,vendorDomain:j,productImageAlt:W,productImage:E,dealPrice:A(F||z),finePrint:s(pt,Wt,b),listPrice:i,rawSavings:Rt,formattedSavings:A(Rt).replace("-",""),itemCondition:q||"Brand New",badgeText:St,badgeColor:Ct,vendorPossessiveForm:Lt($,j)}},Q=o=>A(o,{removeCents:!1}),qi={transparentPricingVersion2VariantB:({savings:o})=>(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"text-base font-bold text-start text-green-500",children:["Save ",Q(o)," with Rewards and savings"]})}),transparentPricingVersion3Variant1:({savings:o,advertiserSubtotal:e,originSubtotal:r})=>(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"text-base text-black mt-3",children:["Save ",(0,S.jsx)("span",{className:"font-black",children:Q(o)})," in Rewards",e<r?" and savings!":"!"]})}),transparentPricingVersion3Variant2:({advertiserTotal:o,originTotal:e,afterRewardTotal:r,loyaltyAmount:n})=>(0,S.jsx)(S.Fragment,{children:o<e?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"text-md mt-2 mb-2",children:[(0,S.jsx)("span",{className:"font-bold text-green-500",children:Q(o)})," ",(0,S.jsx)("div",{style:{display:"inline",textDecoration:"line-through",textDecorationColor:"red"},children:(0,S.jsx)("span",{className:"text-gray-500 text-neutralsecondary",children:Q(e)})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"font-bold text-md text-black",children:Q(r)})," ",(0,S.jsx)("span",{className:"text-sm leading-4 text-gray-500",children:"after rewards"})]})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"text-black text-md mt-2 mb-2",children:["Pay ",(0,S.jsx)("span",{className:"font-bold",children:Q(o)})]}),(0,S.jsxs)("div",{className:"text-black text-md mb-2",children:["Get"," ",(0,S.jsx)("span",{className:"font-bold text-green-500",children:Q(n)})," ","back"]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"font-bold text-black text-md",children:Q(r)})," ",(0,S.jsx)("span",{className:"text-sm text-gray-500",children:"after rewards"})]})]})})},Ui=(o,e,r)=>{let n=gt(o),a={savings:n,loyaltyAmount:o.pricing.loyaltyAmount||0,advertiserTotal:o.pricing.total,advertiserSubtotal:o.pricing.afterDiscountSubtotal||o.pricing.subtotal,originSubtotal:r.subtotal,originTotal:r.total,afterRewardTotal:o.pricing.afterRewardTotal||o.pricing.total},t=qi[e];return{isTransparentPricing:!0,SavingsInfo:()=>(0,S.jsx)(t,{...a}),productImage:o.product.image,productImageAlt:o.product.title,advertiserVendor:o.product.vendorName||o.product.vendor,savings:n,displayType:e,activationBonusData:{threshold:o.pricing.reward?.threshold,loyaltyAmount:o.pricing.loyaltyAmount}}},zi=(o,e,r)=>{if(Object.values(mt).includes(r))return Ui(o,r,e.originResult.pricing);let a=Yi(o,e.originResult.pricing.total);return e?.savingsPreferredImage&&(a.productImage=e.savingsPreferredImage),a},ui=zi;var w=y(P()),Hi=({vendorName:o,vendorDomain:e,productImageAlt:r,productImage:n,itemCondition:a,dealPrice:t,finePrint:i,listPrice:s,onCloseTooltip:l,viewProductPage:c,rawSavings:f,formattedSavings:b})=>{let m=C("notif_rounded_border")?"rounded-notification":"";return(0,w.jsxs)("div",{className:`annotation-tooltip-component creatives ${m}`,onClick:M=>{M.stopPropagation()},children:[(0,w.jsxs)(jt,{children:[(0,w.jsx)(rt,{}),(0,w.jsx)(Mt,{onClick:l})]}),(0,w.jsx)("div",{className:"annotation-tooltip-container",children:(0,w.jsxs)("div",{className:"annotation-tooltip-body min-w-[170px]",children:[(0,w.jsx)("p",{className:"leading-6 font-bold",children:"Savings Alert!"}),(0,w.jsx)(fe,{alt:r,src:n,width:"96px",height:"96px",margin:"auto"}),(0,w.jsxs)(vt,{className:"item-condition",children:["Item Condition: ",a]}),(0,w.jsxs)(vt,{children:[Lt(o,e)," price is..."]}),(0,w.jsx)(ri,{deal:{rawSavings:f,dealPrice:t,listPrice:s}}),(0,w.jsx)(vt,{children:i}),(0,w.jsx)(pi,{rawSavings:f,formattedSavings:b,onClick:()=>c()}),(0,w.jsx)(vt,{className:"exclusions",children:"Exclusions may apply"})]})}),(0,w.jsx)(Vt.default,{width:300,height:600,gravity:.08,wind:.01,numberOfPieces:400,opacity:.7,recycle:!1,style:{top:"-5px"}})]})},Gi=o=>{let{threshold:e,loyaltyAmount:r}=o||{};if(e){let n,a=C("retail_pc_activation_bonus_badge");return C("retail_pc_activation_bonus_copy_1")?n=`Exclusive Deal${a?"":" Alert!"}`:C("retail_pc_activation_bonus_copy_2")?n=`One-Time Rewards${a?"":" Alert!"}`:C("retail_pc_activation_bonus_copy_3")?n=`${A(r)} back on ${A(e)}+${a?"":"!"}`:C("retail_pc_activation_bonus_copy_4")&&(n=`Limited Time Offer${a?"":"!"}`),{hasActivationBonusBadge:a,activationBonusText:n}}},Qi=({onCloseTooltip:o,viewProductPage:e,SavingsInfo:r,productImage:n,productImageAlt:a,advertiserVendor:t,savings:i,displayType:s,activationBonusData:l})=>{let c=C("notif_rounded_border"),{hasActivationBonusBadge:f,activationBonusText:b}=Gi(l)||{},m=f&&b,M=!m&&b?b:"Savings Alert!";return(0,w.jsxs)("div",{className:`annotation-tooltip-component-with-badge ${m?"has-activation-bonus-badge":""}`,children:[m?(0,w.jsx)("div",{className:`activation-bonus-badge text-sm text-center text-white bg-[#013D5B] ${c?"rounded-badge":""}`,children:m}):null,(0,w.jsxs)("div",{className:`annotation-tooltip-component creatives ${c?"rounded-notification":""} price-transparent`,onClick:E=>{E.stopPropagation()},children:[m?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(jt,{children:(0,w.jsx)(Mt,{onClick:o})}),(0,w.jsx)(rt,{})]}):(0,w.jsxs)(jt,{children:[(0,w.jsx)(rt,{}),(0,w.jsx)(Mt,{onClick:o})]}),(0,w.jsx)("div",{className:"annotation-tooltip-container",children:s===mt.transparentPricingVersion2VariantB?(0,w.jsxs)("div",{className:"annotation-tooltip-body min-w-[300px] text-gray-600",children:[(0,w.jsx)(r,{}),(0,w.jsx)(ft,{onClick:()=>e(),className:`mt-2 w-[185px] text-base h-[40px] ${c?"rounded-btn":""} green-btn`,children:"Save Now"}),(0,w.jsx)("div",{className:"text-xs mt-1 text-gray-300",children:"Exclusions may apply"})]}):(0,w.jsxs)("div",{className:"annotation-tooltip-body min-w-[170px] text-black",children:[(0,w.jsx)("div",{className:"leading-6 font-bold mb-1 text-md",children:M}),(0,w.jsx)(fe,{alt:a,src:n,width:"96px",height:"96px",margin:"auto"}),(0,w.jsx)(r,{}),(0,w.jsxs)("div",{className:"mt-1.5 mb-1.5 text-sm text-gray-500",children:["Available at ",t]}),(0,w.jsxs)(ft,{onClick:()=>e(),className:`mt-2 w-[185px] text-base h-[40px] ${c?"rounded-btn":""} green-btn`,children:["Save ",A(i)]}),(0,w.jsx)("div",{className:"text-xs mt-2 text-gray-500",children:"Exclusions may apply"})]})}),(0,w.jsx)(Vt.default,{width:600,height:600,gravity:.08,wind:.01,numberOfPieces:400,opacity:.7,recycle:!1,style:{top:"-5px"}})]})]})},Xi=({bestResult:o,run:e,onCloseTooltip:r,viewProductPage:n,notificationLabel:a="creativeTooltip_bau",blocksContent:t,bestDealDisplayType:i=Z.standardPricing})=>{(0,_i.useEffect)(()=>{O("page",a,{view:"quoteCompleteNotification",type:"notificationHover"})},[a]);let s=ui(o,e,i),l=()=>n(a);return tt()?(0,w.jsx)(Ot,{classes:"retail-pc-best-deal-blocks",content:t,data:s,onCloseTooltip:r,viewProductPage:l,children:(0,w.jsx)(Vt.default,{width:600,height:600,gravity:.08,wind:.01,numberOfPieces:400,opacity:.7,recycle:!1,style:{top:"-5px"}})}):s.isTransparentPricing?(0,w.jsx)(Qi,{...s,onCloseTooltip:r,viewProductPage:l}):(0,w.jsx)(Hi,{...s,onCloseTooltip:r,viewProductPage:l})},di=Xi;var $t=di;var kt=y(P()),Ki=o=>{let[n,a]=(0,xt.useState)(!0),[t,i]=(0,xt.useState)("");return(0,xt.useEffect)(()=>{a(!1)},[]),ue(i),(0,kt.jsx)("div",{className:n?"disabled price-comparison-floating-notif":`price-comparison-floating-notif ${o?.isNonSticky?"not-sticky":""}`,style:{top:"16px",bottom:"auto",left:"auto",right:t||"230px"},children:(0,kt.jsx)(Pt.Motion,{style:{opacity:(0,Pt.spring)(n?0:1,{stiffness:180,damping:20}),y:(0,Pt.spring)(n?-100:0,{stiffness:180,damping:20})},children:({opacity:s,y:l})=>(0,kt.jsx)("div",{className:"notification",style:{transform:`translate3d(0,${l}%,0)`,opacity:`${s}`},children:(0,kt.jsx)($t,{...o,notificationLabel:"creativeTooltip_bau_floating_notif"})})})})},me=Ki;var I=y(P()),be="product-estimate-annotation-addtl-content",fi="floatingRetailPC",mi="retailPC",hi="wirelessPC",gi="retailPCBestDeal",he=o=>{let{saveButtonDomElem:e,children:r,showSavingsDetails:n,hideSavingsDetails:a,appName:t}=o;if(!e)return null;let s=!!G.get(["additionalContentNamespace",t])().querySelector(`.__${be}.open-right`),{bottom:l,right:c,left:f}=e.getBoundingClientRect(),b=document.documentElement;return(0,I.jsx)("div",{className:"product-estimate-annotation",onMouseEnter:n,onMouseLeave:a,style:{position:"absolute",top:l+window.scrollY,...s?{right:b.clientWidth-c+window.scrollX,left:"auto"}:{right:"auto",left:f+window.scrollX},zIndex:2147483647,width:"min-content"},children:r})},ge=class extends bi.Component{constructor(...e){super(...e);let r=h.default.get(this.props.input,"deweyPC",!1);this.state={runId:null,deweyPC:r,isPDPEnabled:!r||C("universal_pc_canonical"),preventInitialShow:!1},this.runIdSavingsAlertSent=new Set,this.events=new Map,this.showFloatingNotification=!1}pollingRetriesCount=0;componentWillMount(){let e=G.get("pageViewId"),r=this.props?.pageType;this.props.asin?pe({asin:h.default.get(this.props,"asin"),originMerchantId:h.default.get(this.props,"originMerchantId"),discount:h.default.get(this.props,"discount"),sellerId:h.default.get(this.props,"sellerId"),product:h.default.get(this.props,"product"),price:h.default.get(this.props,"price"),runCollectionId:h.default.get(this.props,"runCollectionId"),pageViewId:e,pageType:r}).then(n=>{let a=h.default.get(n,"pricing.updatedPricingRunId");this.setState({runId:a});let t;a!==h.default.get(n.cart,"items[0].id")?this.pollForComplete(a):t=!0,this.setState({error:n.error,cart:n.cart,pricing:n.pricing,product:n.product,fullRunComplete:t})}):this.props.input&&pe({product:h.default.get(this.props.input,"product"),gtin:h.default.get(this.props.input,"product.gtin"),unpricedResults:h.default.get(this.props.input,"unpricedResults"),meta:h.default.get(this.props.input,"meta"),deweyPC:this.state.deweyPC,buttonNotMountedInline:h.default.get(this.props,"buttonNotMountedInline",!1),pageViewId:e,pageType:r}).then(n=>{let a=h.default.get(n,"pricing.updatedPricingRunId");this.setState({runId:a});let t;a!==h.default.get(n.cart,"items[0].id")?this.pollForComplete(a):t=!0,this.setState({error:n.error,cart:n.cart,pricing:n.pricing,product:n.product,fullRunComplete:t})})}async setBlocksNotification(){if(!tt())return;let e=this.getSavingsData(this.state.cart?.items?.[0]);if(!this.state.blocksSavingsNotif&&e.savings&&!this.isFetchingBlockSavingsNotif){this.isFetchingBlockSavingsNotif=!0;try{let r=this.props.isFloatingNotif?"retail-pc-savings-popover":"retail-pc-savings-list",n=await He(r);n&&this.setState({blocksSavingsNotif:n})}finally{this.isFetchingBlockSavingsNotif=!1}}}isEstimateRunCart(){let e=this.state.cart?.items?.[0]?.id;return e&&e===this.state.pricing?.estimateRunId}manageEvents(e,r,n={}){let a={events:this.events,appName:this.props.appName},t=[L.noBetterPriceFound,L.bestSavings];if(!t.some(i=>this.events.has(`${i}-estimate`))){let i=this.state.pricing?.estimateRunId;this.events=It({...a,eventData:{...n,eventName:e},runId:i,isEstimateRun:!0})}if(!t.some(i=>this.events.has(i))){let i=this.state.pricing?.updatedPricingRunId;this.events=It({...a,eventData:{...n,eventName:r},runId:i})}}componentDidMount(){this.setBlocksNotification(),O("page",`productEstimateAnnotation${this.state.deweyPC?"_runv4":""}`,{view:"productEstimateNotificaton",type:"annotation",searchIndex:this.props.searchIndex}),this.pollingRetriesCount=0,this.isInteractingWithTooltip=!1,this.isInteractingWithSaveButton=!1,this.saveButton&&(this.saveButton.addEventListener("mouseenter",this.onEnterSavingsButton.bind(this)),this.saveButton.addEventListener("mouseleave",this.onLeaveSavingsButton.bind(this)));let e={events:this.events,pageType:this.props.pageType,appName:this.props.appName};this.events=ae({...e,runId:this.state.pricing?.updatedPricingRunId}),this.events=ae({...e,runId:this.state.pricing?.estimateRunId,isEstimateRun:!0})}componentDidUpdate(e,r){let n=r.cart?.items?.[0]?.id,a=this.state.cart?.items?.[0]?.id;a&&n!==a&&this.setBlocksNotification()}savingsButtonOnClick(e,r,n){return e&&r?this.viewWirelessDevicePage.bind(this,n):e?this.viewProductPage.bind(this,"savingsButton"):()=>{}}shouldShowSavingsDetails(e=!1,r=0,n){let a=!1;this.showFloatingNotification=!1;let t=Ye({autoShowSavingsNotificationStatus:n,complete:e,savings:r});return!this.state.preventInitialShow&&t&&(a=this.props.isBestDealNotif,this.showFloatingNotification=this.props.isFloatingNotif),{showSavingsDetails:a||this.state.showSavingsDetails,showFloatingNotification:this.showFloatingNotification}}getPDPData(){return this.state.deweyPC?h.default.get(this.state.cart,"items[0].universalPCCanonical"):this.state.product}getSavingsData(e={}){let r=h.default.get(e,"inputData.vendor"),n=0,a=[],t=h.default.filter(e.results,b=>{let m=h.default.get(b,"product.vendorName"),M=h.default.get(b,"origin");if(r!=="amazon.com"&&M)return!1;if(m==="eBay"&&!h.default.get(b,"meta.paymentsSupport")){if(n<3)return n++,a.push(m),!0}else if(h.default.get(b,"pricing.total")&&a.indexOf(m)===-1&&a.length<12)return h.default.get(b,"meta.paymentsSupport")||a.push(m),!0}),i=e.originResult||h.default.find(e.results,{origin:!0});if(i){h.default.set(i,"meta.verificationClassifierOutput.verified",!0),h.default.set(i,"origin",!0);let b=h.default.findIndex(t,m=>m.id===i.id);if(b>-1){let m=t[b].redirectUrl;t[b]={...i,redirectUrl:m}}}let s=e.result||h.default.find(e.results,{heroOffer:!0}),l=h.default.get(s,"pricing.afterRewardTotal")||h.default.get(this.bestResult,"pricing.total"),c;h.default.get(i,"pricing.total")&&l&&(c=gt(s));let f=h.default.get(s,"pricing.afterRewardTotal")<h.default.get(e,"originResult.pricing.total")?h.default.get(s,"pricing.reward.amount"):null;return{filteredResults:t,bestResult:s,reward:f,savings:c}}getPopoverType({showSavingsDetails:e,showFloatingNotification:r},n,a,t){let i=n&&a&&e,s=i&&r,l=i&&this.props.isBestDealNotif,c=t&&e,f;return s?f=fi:l?f=gi:i?f=mi:c&&(f=hi),f}render(){let e=this.state.cart||!!this.state.error,r=h.default.get(this.state,"cart.items[0]");e&&this.props.runCompleteCb&&this.props.runCompleteCb(),Ne()&&this.state.runId&&O("page","disableNotifPcTest",{quoteId:this.state.runId,view:"productEstimateAnnotation",type:"test"});let{savings:n,filteredResults:a,bestResult:t,reward:i}=this.getSavingsData(r);this.bestResult=t;let s=G.get("deweyResult")||{},{pageType:l}=s,c=h.default.get(this.props,l==="productPage"?"notification.wirelessPriceComparison":`notification.wirelessPriceComparisonCart.${this.props.asin}`),f=e&&!n&&c&&c.valid,b=`${e?`${f||(n||i)&&a.length?"savings":"no-savings"}`:"searching"}`,m=this.state.showSavingsDetails,M=h.default.get(this.getPDPData(),"wbid"),E=C("notif_rounded_border")?"rounded-btn":"",j=this.isEstimateRunCart(),$;e&&n&&j?($=L.bestSavings,this.estimateRunEnded=!0):e&&j?($=L.noBetterPriceFound,this.estimateRunEnded=!0):this.estimateRunEnded||($=L.searching);let W;e&&n&&!j?W=L.bestSavings:e&&!j?W=L.noBetterPriceFound:W=L.searching,this.manageEvents($,W,{eventTimestamp:new Date().toISOString(),pageType:this.props.pageType,isVisibleToUser:this.props.hasSavingsButton}),this.runIdSavingsAlertSent=Ue(r?.id,this.runIdSavingsAlertSent,e,!!n,this.props?.pageType);let q=this.getPopoverType(this.shouldShowSavingsDetails(e,n,this.props.autoShowSavingsNotificationStatus),n,a.length,f),z=(this.props.hasSavingsButton||this.props.productEstimateAnnotations?.[this.props.appName]?.hasSavingsButton)&&(0,I.jsxs)("div",{className:`savings-button ${b} ${E}`,onClick:this.savingsButtonOnClick(e,f,c&&c.link),ref:pt=>this.saveButton=pt,children:[(0,I.jsx)(te,{}),e?n?(0,I.jsx)(Le,{savings:n,reward:i}):f?(0,I.jsx)(Fe,{data:c}):(0,I.jsx)(je,{}):(0,I.jsx)(Zt,{}),q===fi?(0,I.jsx)(st,{containerNamespace:this.props.appName,children:(0,I.jsx)(me,{run:r,bestResult:this.bestResult,viewProductPage:this.viewProductPage.bind(this),onCloseTooltip:()=>this.hideSavingsDetails(),blocksContent:this.state.blocksSavingsNotif,bestDealDisplayType:re(),isNonSticky:this.props.isFloatingNotifNonSticky})}):q===gi?(0,I.jsx)(st,{containerNamespace:this.props.appName,children:(0,I.jsx)(he,{saveButtonDomElem:this.saveButton,showSavingsDetails:()=>this.isInteractingWithTooltip=!0,hideSavingsDetails:this.onLeaveToolTip.bind(this),appName:this.props.appName,children:(0,I.jsx)($t,{bestResult:this.bestResult,run:r,onCloseTooltip:()=>{this.hideSavingsDetails()},viewProductPage:this.viewProductPage.bind(this),blocksContent:this.state.blocksSavingsNotif,bestDealDisplayType:re()})})}):q===mi?(0,I.jsx)(st,{containerNamespace:this.props.appName,children:(0,I.jsx)(he,{saveButtonDomElem:this.saveButton,showSavingsDetails:()=>this.isInteractingWithTooltip=!0,hideSavingsDetails:this.onLeaveToolTip.bind(this),appName:this.props.appName,children:(0,I.jsx)(lt,{wbid:M,originVendor:this.props.originVendor,view:"productEstimateAnnotation",hideSavingsDetails:()=>{this.isInteractingWithTooltip=!1,this.hideSavingsDetails()},viewProductPage:this.viewProductPage.bind(this),visitMerchant:this.visitMerchant.bind(this),filteredResults:a,searchIndex:this.props.searchIndex,fullRunComplete:this.state.fullRunComplete,run:r,deweyPC:this.state.deweyPC,showViewAllOffers:this.state.isPDPEnabled,blocksContent:this.state.blocksSavingsNotif})})}):q===hi?(0,I.jsx)(st,{containerNamespace:this.props.appName,children:(0,I.jsx)(he,{saveButtonDomElem:this.saveButton,showSavingsDetails:()=>this.isInteractingWithTooltip=!0,hideSavingsDetails:this.onLeaveToolTip.bind(this),appName:this.props.appName,children:(0,I.jsx)(Je,{data:c,onCloseTooltip:()=>this.hideSavingsDetails()})})}):null]});return(0,I.jsx)("div",{className:`product-estimate-annotation ${m?"tooltip-open":""}`,children:z||null})}onEnterSavingsButton(){this.isInteractingWithSaveButton=!0,this.showSavingsDetails()}onLeaveSavingsButton(){this.isInteractingWithSaveButton=!1,this.scheduledHidingSavingsDetails()}onLeaveToolTip(){this.isInteractingWithTooltip=!1,this.scheduledHidingSavingsDetails()}showSavingsDetails(){this.setState({showSavingsDetails:!0})}hideSavingsDetails(){this.setState({showSavingsDetails:!1,preventInitialShow:!0})}scheduledHidingSavingsDetails(){this.showFloatingNotification||setTimeout(()=>{this.isInteractingWithTooltip||this.isInteractingWithSaveButton||this.hideSavingsDetails()},500)}viewWirelessDevicePage(e){e&&At(e)}viewProductPage(e){if(!h.default.get(this.state,"isPDPEnabled"))return;let r=this.getPDPData(),n=h.default.get(r,"wbid"),a=h.default.get(r,"url"),t=this.state.useEstimateRun?h.default.get(this.state,"pricing.estimateRunId"):h.default.get(this.state,"pricing.updatedPricingRunId");O("trackClick","viewProductPage","",{view:this.props.view,pageLocation:"annotation",productId:n,productUrl:a,label:String(e),searchIndex:this.props.searchIndex,quoteId:t,pageType:this.props?.pageType}),n&&a&&t?At(`${ee}${a}?extReq=true${t?`&run=${t}`:""}${this.props.originVendor?`&originVendor=${this.props.originVendor}`:""}`):h.default.get(this.state,"cart.items[0].inputData.isv4",!1)&&(this.props.isFloatingNotif||this.props.isBestDealNotif)&&this.bestResult&&!this.bestResult.origin&&this.visitMerchant(this.bestResult)}visitMerchant(e){let r=this.state.useEstimateRun?h.default.get(this.state,"pricing.estimateRunId"):h.default.get(this.state,"pricing.updatedPricingRunId"),n=h.default.get(e,"id"),a=h.default.get(e,"resultId"),t=h.default.get(e,"meta.paymentsSupport"),i=h.default.get(e,"product.url");if(t)window.open(`${ee}/run/${r}/place-order/${n}`),O("trackClick","checkout","",{view:"resultListTooltip",pageLocation:"annotation",matchDomain:h.default.get(e,"product.vendor"),matchUrl:i,matchId:n,resultId:a,quoteId:r,searchIndex:this.props.searchIndex});else{let s="visitMerchant",{clickId:l,redirectId:c}=Te(),f="product_view_offer",b;if(e?.redirectUrl){let m={extensionVersion:chrome.runtime.getManifest().version,redirectId:c,clickEvent:s,quoteId:r,subExperience:f};b=Re(e.redirectUrl,m)}else{let m=!!h.default.get(e,"pricing.reward");b=$e({params:{channel:m?"cashback-ims":"cart",clickEvent:s,destUrl:i,destDomain:h.default.get(e,"product.vendor"),redirectId:c,subExperience:f,vendorMetaId:h.default.get(e,"pricing.reward.id"),token:h.default.get(e,"pricing.reward.token"),runId:r},isWbPublisher:!0})}window.open(b),O("track",s,{view:"resultListTooltip",pageLocation:"annotation",matchDomain:h.default.get(e,"product.vendor"),matchUrl:i,matchId:n,resultId:a,quoteId:r,clickId:l,redirectId:c,searchIndex:this.props.searchIndex})}}async pollForComplete(e){if(e&&this.pollingRetriesCount<ie){let r=await Ze({runId:e});r?(!h.default.get(r,"items[0].originResult.pricing.total")&&h.default.get(r,"items[0].results.length")===1?this.setState({fullRunComplete:!0,useEstimateRun:!0}):this.setState({cart:r,fullRunComplete:!0}),this.pollingRetriesCount=0):(this.pollingRetriesCount+=1,await yi.default.resolve().delay(2e3),this.pollForComplete(e))}else this.pollingRetriesCount>=ie&&this.setState({cart:{items:[]},fullRunComplete:!0})}},ye=Ie({notification:["notification"],productEstimateAnnotations:["productEstimateAnnotations"]},ge);var wi=y(P());function Ji(o){return o.disablePriceRun?o.disablePriceRun():oe(we.default.get(o,"input.product.price")||we.default.get(o,"price"),o.cutOffPriceForPriceRunsInCents)}function Zi({insertAfterElement:o,additionalClass:e,cssUrl:r,removeExistingApp:n=!1,unmountExistingReactRoot:a=!1},t={}){if(Ji(t))return;let i=t.appName||We;function s(l){return C("show_price_comparison")?(0,wi.jsx)(ye,{...l,appName:i}):null}return Ve({appName:i,cssUrl:r||"offers.css",additionalClass:`__product-estimate-annotation ${e||""}`,app:s({...t,hasSavingsButton:!!o}),insertAfterElement:o,removeExistingApp:n,additionalContent:{namespace:i,additionalContentClass:be},disableTopPositioningObserver:!0,unmountExistingReactRoot:a})}export{oe as a,We as b,L as c,co as d,Ye as e,gt as f,Ei as g,ae as h,It as i,Ue as j,re as k,st as l,bt as m,Je as n,At as o,tt as p,He as q,Ot as r,$t as s,me as t,Zi as u};
