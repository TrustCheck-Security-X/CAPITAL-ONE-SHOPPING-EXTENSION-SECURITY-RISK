import{a as f}from"../chunks/chunk-XXVKPEZT.js";import"../chunks/chunk-MYY6QNB4.js";import"../chunks/chunk-JFLVCXPX.js";import"../chunks/chunk-FMNBUMJ5.js";import"../chunks/chunk-QLZPWOED.js";import"../chunks/chunk-OCTA2RVM.js";import"../chunks/chunk-TYA5STFG.js";import{q as m}from"../chunks/chunk-4MWWZMVF.js";import"../chunks/chunk-2WJMAHXV.js";import{F as u,G as a,I as _,z as T}from"../chunks/chunk-4MSTBY6L.js";import"../chunks/chunk-ECXCPAF6.js";import"../chunks/chunk-CBPLEXH3.js";import"../chunks/chunk-C4QCPH6A.js";import"../chunks/chunk-ZRHTGYWI.js";import"../chunks/chunk-53OM6ECF.js";import"../chunks/chunk-J5H5CHL2.js";import"../chunks/chunk-PDIOZR2P.js";import"../chunks/chunk-WO6N5TBT.js";import"../chunks/chunk-BTBTC4NL.js";import{e as s}from"../chunks/chunk-3GYLW4KZ.js";var l=s(T());_();var g=s(a()),A="ChatGPT_App_Notifications";function G(e){if(!e)return!0;let o=chrome.runtime.getManifest().version.split(".").map(Number),n=e.split(".").map(Number),r=Math.max(o.length,n.length);for(let t=0;t<r;t++){let i=o[t]||0,c=n[t]||0;if(i<c)return!1;if(i>c)return!0}return!0}function k(e,o){let n=e({itemName:"templates",propDataType:{urlPattern:"string",templateId:"string",minExtVersion:"string"}});if(!n||n.length===0)return null;let r=n.filter(t=>t.urlPattern?.trim()&&G(t.minExtVersion));for(let t of r)if(new RegExp(t.urlPattern,"i").test(o))return t.templateId;return null}var d=({originalUrl:e,onUnload:o})=>{let[n,r]=(0,l.useState)(),{getSequence:t}=u(A);return(0,l.useEffect)(()=>{let i=k(t,e);i&&r(i)},[]),n?(0,g.jsx)(f,{throttleInBlocks:!0,onUnload:o,blocksEnvConfig:{templateId:n}}):null};var h=s(a()),x=window.__CHATGPT_ORIGINAL_URL__||window.location.href,P,p=!1;function B(){P?.(),p=!1}async function C(){if(!p)try{p=!0;let e=await m({appName:"chatGptApp",app:(0,h.jsx)(d,{originalUrl:x,onUnload:B})});"unloadApp"in e&&(P=e.unloadApp)}catch{p=!1}}C();
